<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shadowtube</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
  --bg: #05060a;
  --bg-alt: #0b0e18;
  --panel: #141827;
  --panel-soft: #101321;
  --accent: #ff4b81;
  --accent-soft: rgba(255, 75, 129, 0.18);
  --text: #f5f7ff;
  --muted: #9aa0c2;
  --border: #22263a;
  --radius: 8px;
  --shadow: 0 0 25px rgba(0,0,0,0.6);
  --font: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font);
  background: radial-gradient(circle at top, #151a33 0, #05060a 55%);
  color: var(--text);
  height: 100vh;
}

/* LAYOUT */
#app {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

/* TOPBAR */
#topbar {
  height: 52px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 14px;
  border-bottom: 1px solid var(--border);
  background: rgba(5,6,10,0.95);
  backdrop-filter: blur(10px);
}

#logo {
  display: flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-size: 0.9rem;
}

#logo span.mark {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  background: var(--accent);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
}

#logo span.text {
  color: #fff;
}

#logo span.text strong {
  color: var(--accent);
}

#search-bar {
  flex: 1;
  max-width: 520px;
  margin: 0 16px;
  display: flex;
}

#search-input {
  flex: 1;
  padding: 7px 10px;
  border-radius: 999px 0 0 999px;
  border: 1px solid var(--border);
  background: #05060f;
  color: var(--text);
  font-size: 0.85rem;
}

#search-btn {
  padding: 7px 12px;
  border-radius: 0 999px 999px 0;
  border: 1px solid var(--border);
  border-left: none;
  background: var(--panel-soft);
  color: var(--muted);
  cursor: pointer;
  font-size: 0.85rem;
}

#topbar-right {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.8rem;
}

#upload-btn {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--accent-soft);
  background: transparent;
  color: var(--accent);
  cursor: pointer;
  font-size: 0.8rem;
}

#user-avatar {
  width: 26px;
  height: 26px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--accent), #ff9fbf);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
}

/* MAIN AREA */
#main {
  flex: 1;
  display: grid;
  grid-template-columns: 220px minmax(0, 1fr);
  overflow: hidden;
}

/* SIDEBAR */
#sidebar {
  background: linear-gradient(180deg, var(--bg-alt), #05060a);
  border-right: 1px solid var(--border);
  padding: 10px;
  font-size: 0.85rem;
}

.sidebar-section-title {
  font-size: 0.75rem;
  text-transform: uppercase;
  color: var(--muted);
  margin: 10px 0 6px;
}

.sidebar-btn {
  width: 100%;
  padding: 7px 8px;
  margin-bottom: 4px;
  background: transparent;
  border-radius: 6px;
  border: 1px solid transparent;
  cursor: pointer;
  text-align: left;
  color: var(--muted);
  font-size: 0.85rem;
  display: flex;
  align-items: center;
  gap: 6px;
}

.sidebar-btn span.icon {
  width: 18px;
  text-align: center;
}

.sidebar-btn:hover {
  background: var(--accent-soft);
  color: var(--text);
}

.sidebar-btn.active {
  background: var(--accent);
  color: #fff;
}

/* CONTENT */
#content {
  background: transparent;
  padding: 12px 14px;
  overflow-y: auto;
}

/* PAGES */
.page {
  display: none;
}

.page.active {
  display: block;
}

/* HOME GRID */
#home-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px;
}

.video-card {
  background: var(--panel);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  overflow: hidden;
  cursor: pointer;
  font-size: 0.85rem;
}

.video-thumb {
  height: 120px;
  background: radial-gradient(circle at top, #2b314f, #05060a);
  position: relative;
}

.video-thumb::after {
  content: "‚ñ∂";
  position: absolute;
  right: 8px;
  bottom: 6px;
  font-size: 0.8rem;
  background: rgba(0,0,0,0.6);
  padding: 2px 6px;
  border-radius: 999px;
}

.video-info {
  padding: 8px 9px;
}

.video-title {
  font-weight: 600;
  margin-bottom: 2px;
}

.video-meta {
  font-size: 0.75rem;
  color: var(--muted);
}

/* WATCH PAGE */
#watch-layout {
  display: grid;
  grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.1fr);
  gap: 12px;
}

#watch-player {
  background: var(--panel);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  padding: 10px;
}

#fake-video {
  height: 220px;
  border-radius: 6px;
  background: radial-gradient(circle at top, #2b314f, #05060a);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.4rem;
}

#watch-title {
  margin: 8px 0 2px;
  font-size: 1rem;
}

#watch-meta {
  font-size: 0.8rem;
  color: var(--muted);
}

#watch-desc {
  margin-top: 6px;
  font-size: 0.85rem;
}

#watch-comments {
  margin-top: 10px;
}

.comment {
  margin-top: 6px;
  padding: 6px 8px;
  border-radius: 6px;
  background: var(--panel-soft);
  border: 1px solid var(--border);
  font-size: 0.8rem;
}

.comment strong {
  font-size: 0.8rem;
}

#comment-form {
  margin-top: 8px;
  display: flex;
  gap: 6px;
}

#comment-input {
  flex: 1;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: #05060f;
  color: var(--text);
  font-size: 0.8rem;
}

/* UP NEXT */
#upnext {
  background: var(--panel);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  padding: 10px;
  font-size: 0.85rem;
}

.upnext-item {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
  cursor: pointer;
}

.upnext-thumb {
  width: 90px;
  height: 52px;
  border-radius: 4px;
  background: radial-gradient(circle at top, #2b314f, #05060a);
}

.upnext-info {
  flex: 1;
  font-size: 0.8rem;
}

/* LIBRARY / HISTORY SIMPLE LISTS */
.simple-list {
  background: var(--panel);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  padding: 10px;
  font-size: 0.85rem;
}

.simple-item {
  padding: 6px 0;
  border-bottom: 1px solid var(--border);
}

.simple-item:last-child {
  border-bottom: none;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  #main {
    grid-template-columns: minmax(0, 1fr);
  }
  #sidebar {
    display: none;
  }
  #watch-layout {
    grid-template-columns: minmax(0, 1fr);
  }
}
</style>
</head>
<body>

<div id="app">
  <!-- TOPBAR -->
  <div id="topbar">
    <div id="logo">
      <span class="mark">‚ñ∂</span>
      <span class="text"><strong>Shadow</strong>tube</span>
    </div>
    <div id="search-bar">
      <input id="search-input" placeholder="Search Shadowtube">
      <button id="search-btn">Search</button>
    </div>
    <div id="topbar-right">
      <button id="upload-btn">Upload</button>
      <div id="user-avatar">ST</div>
    </div>
  </div>

  <!-- MAIN -->
  <div id="main">
    <!-- SIDEBAR -->
    <div id="sidebar">
      <div class="sidebar-section-title">Main</div>
      <button class="sidebar-btn active" data-page="home">
        <span class="icon">üè†</span> Home
      </button>
      <button class="sidebar-btn" data-page="watch">
        <span class="icon">‚ñ∂</span> Watch
      </button>
      <button class="sidebar-btn" data-page="library">
        <span class="icon">üìö</span> Library
      </button>
      <button class="sidebar-btn" data-page="history">
        <span class="icon">üïí</span> History
      </button>

      <div class="sidebar-section-title">Shadowtech</div>
      <button class="sidebar-btn" data-page="dev">
        <span class="icon">üíª</span> Dev Panel
      </button>
    </div>

    <!-- CONTENT -->
    <div id="content">
      <!-- HOME -->
      <div id="page-home" class="page active">
        <h2>Recommended on Shadowtube</h2>
        <div id="home-grid"></div>
      </div>

      <!-- WATCH -->
      <div id="page-watch" class="page">
        <div id="watch-layout">
          <div id="watch-player">
            <div id="fake-video">‚ñ∂</div>
            <div id="watch-title">Select a video from Home</div>
            <div id="watch-meta">0 views ‚Ä¢ Shadowtube</div>
            <div id="watch-desc">Shadowtube ‚Äî your Shadowtech themed video hub.</div>

            <div id="watch-comments">
              <h3 style="font-size:0.9rem; margin:8px 0;">Comments</h3>
              <div id="comments-list"></div>
              <div id="comment-form">
                <input id="comment-input" placeholder="Add a comment...">
                <button class="btn small" onclick="addComment()">Post</button>
              </div>
            </div>
          </div>
          <div id="upnext">
            <h3 style="margin-top:0; font-size:0.9rem;">Up next</h3>
            <div id="upnext-list"></div>
          </div>
        </div>
      </div>

      <!-- LIBRARY -->
      <div id="page-library" class="page">
        <h2>Your Library</h2>
        <div class="simple-list" id="library-list"></div>
      </div>

      <!-- HISTORY -->
      <div id="page-history" class="page">
        <h2>Watch History</h2>
        <div class="simple-list" id="history-list"></div>
      </div>

      <!-- DEV PANEL -->
      <div id="page-dev" class="page">
        <h2>Dev Panel</h2>
        <div class="simple-list">
          <div class="simple-item">
            <strong>Shadowtube Mode:</strong> Local only, no real video hosting.
          </div>
          <div class="simple-item">
            <strong>Idea:</strong> Later you can swap fake data with real API calls.
          </div>
          <div class="simple-item">
            <strong>Storage:</strong> History and comments stored in <code>localStorage</code>.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const $ = (s) => document.querySelector(s);
const $$ = (s) => document.querySelectorAll(s);

/* NAV */
$$('.sidebar-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const page = btn.getAttribute('data-page');
    goTo(page);
  });
});

function goTo(page) {
  $$('.sidebar-btn').forEach(b => b.classList.remove('active'));
  const activeBtn = document.querySelector(\`.sidebar-btn[data-page="\${page}"]\`);
  if (activeBtn) activeBtn.classList.add('active');

  $$('.page').forEach(p => p.classList.remove('active'));
  const pageDiv = document.getElementById('page-' + page);
  if (pageDiv) pageDiv.classList.add('active');
}

/* FAKE DATA */
const videos = [
  {
    id: 'shadow-intro',
    title: 'Welcome to Shadowtube',
    channel: 'Shadowtech',
    views: '1.2K',
    age: '1 day ago',
    desc: 'Intro to the Shadowtube concept ‚Äî a Shadowtech themed video hub.'
  },
  {
    id: 'bot-builder',
    title: 'Building a Shadowtech Bot',
    channel: 'Shadowtech Dev',
    views: '3.4K',
    age: '3 days ago',
    desc: 'Walkthrough of a one-file bot builder layout.'
  },
  {
    id: 'ui-showcase',
    title: 'Cyber UI Showcase',
    channel: 'Shadow Design',
    views: '980',
    age: '5 days ago',
    desc: 'Showcase of dark, neon, cyber-themed UI components.'
  },
  {
    id: 'shadow-walk',
    title: 'Night Walk ‚Äî Shadow POV',
    channel: 'Shadows',
    views: '2.1K',
    age: '1 week ago',
    desc: 'Chill night walk with Shadowtech vibes.'
  }
];

let currentVideo = null;
let comments = JSON.parse(localStorage.getItem('shadowtube_comments') || '{}');
let history = JSON.parse(localStorage.getItem('shadowtube_history') || '[]');

/* HOME RENDER */
function renderHome() {
  const grid = $('#home-grid');
  grid.innerHTML = '';
  videos.forEach(v => {
    const card = document.createElement('div');
    card.className = 'video-card';
    card.onclick = () => openVideo(v.id);
    card.innerHTML = \`
      <div class="video-thumb"></div>
      <div class="video-info">
        <div class="video-title">\${v.title}</div>
        <div class="video-meta">\${v.channel}</div>
        <div class="video-meta">\${v.views} views ‚Ä¢ \${v.age}</div>
      </div>
    \`;
    grid.appendChild(card);
  });
}

/* WATCH */
function openVideo(id) {
  const v = videos.find(x => x.id === id);
  if (!v) return;
  currentVideo = v;
  $('#watch-title').textContent = v.title;
  $('#watch-meta').textContent = \`\${v.views} views ‚Ä¢ \${v.channel} ‚Ä¢ \${v.age}\`;
  $('#watch-desc').textContent = v.desc;
  goTo('watch');
  addToHistory(v);
  renderComments();
  renderUpNext();
}

function renderUpNext() {
  const list = $('#upnext-list');
  list.innerHTML = '';
  videos.filter(v => !currentVideo || v.id !== currentVideo.id).forEach(v => {
    const item = document.createElement('div');
    item.className = 'upnext-item';
    item.onclick = () => openVideo(v.id);
    item.innerHTML = \`
      <div class="upnext-thumb"></div>
      <div class="upnext-info">
        <div><strong>\${v.title}</strong></div>
        <div style="color:var(--muted);">\${v.channel}</div>
        <div style="color:var(--muted); font-size:0.75rem;">\${v.views} views ‚Ä¢ \${v.age}</div>
      </div>
    \`;
    list.appendChild(item);
  });
}

/* COMMENTS */
function renderComments() {
  const list = $('#comments-list');
  list.innerHTML = '';
  if (!currentVideo) return;
  const vidComments = comments[currentVideo.id] || [];
  if (!vidComments.length) {
    list.innerHTML = '<small style="color:var(--muted);">No comments yet. Be the first.</small>';
    return;
  }
  vidComments.forEach(c => {
    const div = document.createElement('div');
    div.className = 'comment';
    div.innerHTML = \`
      <strong>\${c.author}</strong> ‚Ä¢ <small>\${c.time}</small><br>
      <span>\${c.text}</span>
    \`;
    list.appendChild(div);
  });
}

function addComment() {
  if (!currentVideo) return;
  const input = $('#comment-input');
  const text = input.value.trim();
  if (!text) return;
  const vidComments = comments[currentVideo.id] || [];
  vidComments.push({
    author: 'You',
    text,
    time: new Date().toLocaleTimeString()
  });
  comments[currentVideo.id] = vidComments;
  localStorage.setItem('shadowtube_comments', JSON.stringify(comments));
  input.value = '';
  renderComments();
}

/* HISTORY / LIBRARY */
function addToHistory(v) {
  history = history.filter(x => x.id !== v.id);
  history.unshift({ id: v.id, title: v.title, channel: v.channel, time: new Date().toLocaleString() });
  if (history.length > 30) history.pop();
  localStorage.setItem('shadowtube_history', JSON.stringify(history));
  renderHistory();
  renderLibrary();
}

function renderHistory() {
  const list = $('#history-list');
  list.innerHTML = '';
  if (!history.length) {
    list.innerHTML = '<small style="color:var(--muted);">No history yet.</small>';
    return;
  }
  history.forEach(h => {
    const div = document.createElement('div');
    div.className = 'simple-item';
    div.innerHTML = \`
      <strong>\${h.title}</strong> ‚Äî <span style="color:var(--muted);">\${h.channel}</span><br>
      <small style="color:var(--muted);">\${h.time}</small>
    \`;
    list.appendChild(div);
  });
}

function renderLibrary() {
  const list = $('#library-list');
  list.innerHTML = '';
  if (!history.length) {
    list.innerHTML = '<small style="color:var(--muted);">Nothing in your library yet. Watching videos will show them here.</small>';
    return;
  }
  history.slice(0, 6).forEach(h => {
    const div = document.createElement('div');
    div.className = 'simple-item';
    div.innerHTML = \`
      <strong>\${h.title}</strong> ‚Äî <span style="color:var(--muted);">\${h.channel}</span>
    \`;
    list.appendChild(div);
  });
}

/* INIT */
function init() {
  renderHome();
  renderHistory();
  renderLibrary();
}
init();
</script>

</body>
</html>
